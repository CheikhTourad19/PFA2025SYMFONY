<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>E-MEDICAL TUNISE - Plateforme médicale</title>
    <meta name="description" content="Prenez vos rendez-vous médicaux en ligne, accédez aux ordonnances électroniques, et gérez vos soins en Tunisie.">
    <meta name="keywords" content="E-MEDICAL, Tunisie, rendez-vous médicaux, ordonnances électroniques, plateforme santé">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://tonsite.com/" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Welcome!{% endblock %}</title>

    {# Preload critical assets #}
    <link rel="preload" href="{{ asset('build/app.css') }}" as="style">
    <link rel="preload" href="{{ asset('build/app.js') }}" as="script">

    <link rel="stylesheet" href="{{ asset('build/app.css') }}">
    <link rel="icon" href="{{ asset('assets/img.jpg') }}">

    {% block stylesheets %}
        <style>
            /* From Uiverse.io by SouravBandyopadhyay */
            /* From Uiverse.io by JaydipPrajapati1910 */
            .loader1 {
                width: 48px;
                height: 48px;
                margin: auto;
                position: relative;
            }

            .loader1:before {
                content: '';
                width: 48px;
                height: 5px;
                background: #999;
                position: absolute;
                top: 60px;
                left: 0;
                border-radius: 50%;
                animation: shadow324 0.5s linear infinite;
            }

            .loader1:after {
                content: '';
                width: 100%;
                height: 100%;
                background-image: url("{{ asset('assets/img.jpg') }}");
                position: absolute;
                top: 0;
                left: 0;
                border-radius: 4px;
                animation: jump7456 0.5s linear infinite;
            }

            @keyframes jump7456 {
                15% {
                    border-bottom-right-radius: 3px;
                }

                25% {
                    transform: translateY(9px) rotate(22.5deg);
                }

                50% {
                    transform: translateY(18px) scale(1, .9) rotate(45deg);
                    border-bottom-right-radius: 40px;
                }

                75% {
                    transform: translateY(9px) rotate(67.5deg);
                }

                100% {
                    transform: translateY(0) rotate(90deg);
                }
            }

            @keyframes shadow324 {

                0%,
                100% {
                    transform: scale(1, 1);
                }

                50% {
                    transform: scale(1.2, 1);
                }
            }

        </style>
        {{ encore_entry_link_tags('app') }}
    {% endblock %}
    <meta name="google-site-verification" content="veLvQ92iaEpLrBCs8mlmisvjatlfleY9H1bgN1qT5_U" />
    {% block javascripts %}
        {{ encore_entry_script_tags('app') }}

        <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.12.0/dist/cdn.min.js" defer></script>
    {% endblock %}
</head>
<body class="min-h-screen bg-gray-50">
<div id="navigation-loader" class="fixed inset-0 bg-base-100/30 z-50 flex flex-col items-center justify-center hidden">
    <div class="loader1">

    </div>
</div>
{% block body %}{% endblock %}



<script>
    document.addEventListener('DOMContentLoaded', function() {
        const navigationLoader = document.getElementById('navigation-loader');

        // Function to show the loading spinner
        function showLoader() {
            navigationLoader.classList.remove('hidden');
        }

        // Function to hide the loading spinner
        function hideLoader() {
            navigationLoader.classList.add('hidden');
        }

        // For traditional links/page navigation
        document.addEventListener('click', function(e) {
            // Only handle clicks on links that navigate to pages within your site
            const target = e.target.closest('a');
            if (target &&
                target.href &&
                target.href.startsWith(window.location.origin) &&
                !target.getAttribute('data-no-loader') &&
                !e.ctrlKey && !e.metaKey) {

                showLoader();
            }
        });

        // Hide loader when page has loaded (for when back button is used)
        window.addEventListener('pageshow', function() {
            hideLoader();
        });

        // For AJAX requests (if you're using them)
        // You can add this if you're using fetch or XMLHttpRequest for AJAX navigation
        const originalFetch = window.fetch;
        window.fetch = function() {
            showLoader();
            return originalFetch.apply(this, arguments)
                .then(response => {
                    hideLoader();
                    return response;
                })
                .catch(error => {
                    hideLoader();
                    throw error;
                });
        };

        // For Turbo/Turbolinks if you're using them
        document.addEventListener('turbo:visit', showLoader);
        document.addEventListener('turbo:load', hideLoader);
        document.addEventListener('turbo:render', hideLoader);

        // For Symfony UX Turbo
        document.addEventListener('turbo:before-visit', showLoader);
        document.addEventListener('turbo:load', hideLoader);

        // Fallback for normal page loads
        window.addEventListener('beforeunload', showLoader);
    });
</script>
</body>
</html>